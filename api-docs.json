{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"https://codeurjc-daw-2021-22-webapp4.herokuapp.com","description":"Generated server url"}],"paths":{"/api/users":{"get":{"tags":["user-rest-controller"],"operationId":"me","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}},"put":{"tags":["user-rest-controller"],"operationId":"updateUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}},"post":{"tags":["user-rest-controller"],"operationId":"createUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDTO"}}},"required":true},"responses":{"201":{"description":"Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}},"delete":{"tags":["user-rest-controller"],"operationId":"deleteUser","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/api/articles/{id}":{"get":{"tags":["article-rest-controller"],"operationId":"getArticle","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Article"}}}}}},"put":{"tags":["article-rest-controller"],"operationId":"createArticle","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArticleRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Article"}}}}}},"delete":{"tags":["article-rest-controller"],"operationId":"deleteArticle","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Article"}}}}}}},"/api/admin/users/{id}":{"get":{"tags":["admin-user-rest-controller"],"operationId":"getUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}},"put":{"tags":["admin-user-rest-controller"],"operationId":"update","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}},"delete":{"tags":["admin-user-rest-controller"],"operationId":"deleteUser_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/api/admin/categories/{id}":{"get":{"tags":["admin-category-rest-controller"],"operationId":"getCategory_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Article"}}}}}}},"put":{"tags":["admin-category-rest-controller"],"operationId":"updateCategory","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Category"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Category"}}}}}},"delete":{"tags":["admin-category-rest-controller"],"operationId":"deleteCategory","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Category"}}}}}}},"/api/reports/{idReport}/image":{"post":{"tags":["report-rest-controller"],"operationId":"uploadImage","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"required":["imageFile"],"type":"object","properties":{"imageFile":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/reports/{idArticle}":{"post":{"tags":["report-rest-controller"],"operationId":"createReport","parameters":[{"name":"idArticle","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Report"}}},"required":true},"responses":{"201":{"description":"Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Report"}}}}}}},"/api/favorites/{idArticle}":{"post":{"tags":["favorites-rest-controller"],"operationId":"createFavorites","parameters":[{"name":"idArticle","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"201":{"description":"Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Favorites"}}}}}},"delete":{"tags":["favorites-rest-controller"],"operationId":"deleteFavorites","parameters":[{"name":"idArticle","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Favorites"}}}}}}},"/api/auth/refresh":{"post":{"tags":["login-controller"],"operationId":"refreshToken","parameters":[{"name":"refreshToken","in":"cookie","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}},"/api/auth/logout":{"post":{"tags":["login-controller"],"operationId":"logOut","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}},"/api/auth/login":{"post":{"tags":["login-controller"],"operationId":"login","parameters":[{"name":"accessToken","in":"cookie","required":false,"schema":{"type":"string"}},{"name":"refreshToken","in":"cookie","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}},"/api/articles":{"get":{"tags":["article-rest-controller"],"operationId":"all_1_1","parameters":[{"name":"page","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"oneOf":[{"type":"object","additionalProperties":{"type":"object"}},{"type":"array","items":{"$ref":"#/components/schemas/Article"}}]}}}}}},"post":{"tags":["article-rest-controller"],"operationId":"createArticle_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArticleRequest"}}},"required":true},"responses":{"201":{"description":"Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Article"}}}}}}},"/api/articles/{id}/image":{"get":{"tags":["article-rest-controller"],"operationId":"downloadImage_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}},"post":{"tags":["article-rest-controller"],"operationId":"uploadImage_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"required":["imageFile"],"type":"object","properties":{"imageFile":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}},"delete":{"tags":["article-rest-controller"],"operationId":"deleteImage","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/admin/favorites/{idUser}/{idArticle}":{"get":{"tags":["admin-favorites-rest-controller"],"operationId":"getFavorites_1","parameters":[{"name":"idUser","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"idArticle","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Favorites"}}}}}},"post":{"tags":["admin-favorites-rest-controller"],"operationId":"createFavorites_1","parameters":[{"name":"idUser","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"idArticle","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"201":{"description":"Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Favorites"}}}}}},"delete":{"tags":["admin-favorites-rest-controller"],"operationId":"deleteFavorites_1","parameters":[{"name":"idUser","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"idArticle","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Favorites"}}}}}}},"/api/admin/categories":{"get":{"tags":["admin-category-rest-controller"],"operationId":"all_4","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Category"}}}}}}},"post":{"tags":["admin-category-rest-controller"],"operationId":"createCategory","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Category"}}},"required":true},"responses":{"201":{"description":"Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Category"}}}}}}},"/api/admin/categories/{id}/image":{"get":{"tags":["admin-category-rest-controller"],"operationId":"downloadImage_2","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}},"post":{"tags":["admin-category-rest-controller"],"operationId":"uploadImage_2","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"required":["imageFile"],"type":"object","properties":{"imageFile":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}},"delete":{"tags":["admin-category-rest-controller"],"operationId":"deleteImage_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/graphic":{"get":{"tags":["graphic-rest-controller"],"operationId":"graphic","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Category"}}}}}}}},"/api/favorites":{"get":{"tags":["favorites-rest-controller"],"operationId":"myFavorites","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Favorites"}}}}}}}},"/api/categories":{"get":{"tags":["category-rest-controller"],"operationId":"all","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Category"}}}}}}}},"/api/categories/{id}":{"get":{"tags":["category-rest-controller"],"operationId":"getCategory","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Article"}}}}}}}},"/api/categories/{id}/image":{"get":{"tags":["category-rest-controller"],"operationId":"downloadImage","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/articles/search":{"get":{"tags":["article-rest-controller"],"operationId":"search","parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string"}},{"name":"city","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Article"}}}}}}}},"/api/articles/me":{"get":{"tags":["article-rest-controller"],"operationId":"me_1","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Article"}}}}}}}},"/api/admin/users":{"get":{"tags":["admin-user-rest-controller"],"operationId":"all_1","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}}}}}},"/api/admin/reports":{"get":{"tags":["admin-report-rest-controller"],"operationId":"all_2","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Report"}}}}}}}},"/api/admin/reports/{id}/proof":{"get":{"tags":["admin-report-rest-controller"],"operationId":"downloadReporteProof","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/admin/reports/{id}/article":{"get":{"tags":["admin-report-rest-controller"],"operationId":"getArticleReported","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Article"}}}}}}},"/api/admin/reports/{id}/article/image":{"get":{"tags":["admin-report-rest-controller"],"operationId":"downloadReportedArticleImage","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/admin/reports/{idReport}":{"get":{"tags":["admin-report-rest-controller"],"operationId":"getReport","parameters":[{"name":"idReport","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Report"}}}}}}},"/api/admin/favorites":{"get":{"tags":["admin-favorites-rest-controller"],"operationId":"all_3","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Favorites"}}}}}}}},"/api/admin/favorites/{idUser}":{"get":{"tags":["admin-favorites-rest-controller"],"operationId":"getFavorites","parameters":[{"name":"idUser","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Favorites"}}}}}}}},"/api/admin/reports/{id}/rejectReport":{"delete":{"tags":["admin-report-rest-controller"],"operationId":"deleteReport","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Report"}}}}}}},"/api/admin/reports/{id}/aceptReport":{"delete":{"tags":["admin-report-rest-controller"],"operationId":"deleteArticleReported","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Article"}}}}}}}},"components":{"schemas":{"Article":{"type":"object","properties":{"categorys":{"type":"array","items":{"$ref":"#/components/schemas/Category"}},"userID":{"type":"integer","format":"int64"},"title":{"type":"string"},"description":{"type":"string"},"city":{"type":"string"},"postal_CODE":{"type":"string"},"price":{"type":"number","format":"float"},"userEmail":{"type":"string"},"reserved":{"type":"boolean"},"sold":{"type":"boolean"},"id_ARTICLE":{"type":"integer","format":"int64"},"date":{"type":"string","format":"date-time"},"n_VISITS":{"type":"integer","format":"int32"},"price_s":{"type":"string"},"reports":{"type":"array","items":{"$ref":"#/components/schemas/Report"}},"@id_article":{"type":"integer","format":"int32"}}},"Category":{"type":"object","properties":{"icon":{"type":"string"},"id_CATEGORY":{"type":"integer","format":"int64"},"title":{"type":"string"},"description":{"type":"string"}}},"Report":{"type":"object","properties":{"article":{"$ref":"#/components/schemas/Article"},"email":{"type":"string"},"id_REPORT":{"type":"integer","format":"int64"},"description":{"type":"string"}}},"User":{"type":"object","properties":{"is_ADMIN":{"type":"boolean"},"n_SELL":{"type":"integer","format":"int32"},"n_SOLD":{"type":"integer","format":"int32"},"articles":{"type":"array","items":{"$ref":"#/components/schemas/Article"}},"id_USER":{"type":"integer","format":"int64"},"full_NAME":{"type":"string"},"name":{"type":"string"},"tel":{"type":"string"}}},"ArticleRequest":{"type":"object","properties":{"categories":{"type":"array","items":{"type":"integer","format":"int32"}},"title":{"type":"string"},"description":{"type":"string"},"city":{"type":"string"},"postal_CODE":{"type":"string"},"price":{"type":"number","format":"float"}}},"UserDTO":{"type":"object","properties":{"password":{"type":"string"},"full_NAME":{"type":"string"},"name":{"type":"string"},"tel":{"type":"string"}}},"Favorites":{"required":["users"],"type":"object","properties":{"article":{"$ref":"#/components/schemas/Article"},"user":{"$ref":"#/components/schemas/User"},"id_FAVORITE":{"type":"integer","format":"int64"},"users":{"$ref":"#/components/schemas/User"},"@id_favorite":{"type":"integer","format":"int32"}}},"AuthResponse":{"type":"object","properties":{"status":{"type":"string","enum":["SUCCESS","FAILURE"]},"message":{"type":"string"},"error":{"type":"string"}}},"LoginRequest":{"type":"object","properties":{"token":{"type":"string"}}}}}}