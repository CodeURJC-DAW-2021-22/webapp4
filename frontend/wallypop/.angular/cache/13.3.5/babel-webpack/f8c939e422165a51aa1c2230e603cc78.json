{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/category.service\";\nimport * as i2 from \"../../services/article.service\";\nimport * as i3 from \"@angular/router\";\nconst _c0 = [\"file\"];\n\nfunction AddcommercialComponent_option_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 30);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const category_r8 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", category_r8.id_CATEGORY);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(category_r8.title);\n  }\n}\n\nexport let AddcommercialComponent = /*#__PURE__*/(() => {\n  class AddcommercialComponent {\n    constructor(categoryService, articleService, router) {\n      this.categoryService = categoryService;\n      this.articleService = articleService;\n      this.router = router;\n    }\n\n    ngOnInit() {\n      this.categoryService.getCategories().subscribe(response => this.categorys = response, error => console.log(error));\n    } // tslint:disable-next-line:variable-name\n\n\n    save($event, TITLE, DESCRIPTION, CITY, PRICE, POSTAL_CODE, categories) {\n      const c = [1, 2, 3];\n      this.articleService.addArticle(TITLE, DESCRIPTION, CITY, PRICE, POSTAL_CODE, c).subscribe(response => this.uploadImage(response), error => console.log(error));\n    }\n\n    uploadImage(articleImage) {\n      const image = this.file.nativeElement.files[0];\n\n      if (image) {\n        const formData = new FormData();\n        formData.append('imageFile', image);\n        this.articleService.setArticleImage(articleImage, formData).subscribe(_ => this.afterUploadImage(articleImage), error => alert('Error uploading category image: ' + error));\n      } else {\n        this.afterUploadImage(articleImage);\n      }\n    }\n\n    afterUploadImage(afterArticleImage) {\n      this.router.navigate(['/commercial']);\n    }\n\n  }\n\n  AddcommercialComponent.ɵfac = function AddcommercialComponent_Factory(t) {\n    return new (t || AddcommercialComponent)(i0.ɵɵdirectiveInject(i1.CategoryService), i0.ɵɵdirectiveInject(i2.ArticleService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n\n  AddcommercialComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddcommercialComponent,\n    selectors: [[\"addcommercial\"]],\n    viewQuery: function AddcommercialComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.file = _t.first);\n      }\n    },\n    decls: 84,\n    vars: 1,\n    consts: [[1, \"section\"], [1, \"text-center\", \"text-light\"], [1, \"container\"], [1, \"row\"], [1, \"col-xs-12\", \"col-sm-10\", \"col-sm-offset-1\", 2, \"border\", \"1px solid #E1E1E1\"], [1, \"text-info\"], [1, \"form-group\"], [1, \"col-sm-3\", \"control-label\"], [1, \"col-sm-7\"], [\"multiple\", \"\", \"name\", \"CATEGORYS\", 1, \"form-control\"], [\"categories\", \"\"], [\"name\", \"CATEGORY\", 3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"name\", \"tITLE\", \"placeholder\", \"T\\u00EDtulo del anuncio\", \"required\", \"\", \"type\", \"text\", 1, \"form-control\"], [\"title\", \"\"], [\"NAME\", \"dESCRIPTION\", \"placeholder\", \"Descripci\\u00F3n\", \"required\", \"\", \"rows\", \"3\", 1, \"form-control\"], [\"description\", \"\"], [\"name\", \"pRICE\", \"placeholder\", \"Precio\", \"required\", \"\", \"type\", \"text\", 1, \"form-control\"], [\"price\", \"\"], [\"name\", \"cITY\", \"placeholder\", \"Ciudad\", \"required\", \"\", \"type\", \"text\", 1, \"form-control\"], [\"city\", \"\"], [\"name\", \"pOSTAL_CODE\", \"placeholder\", \"C\\u00F3digo postal\", \"required\", \"\", \"type\", \"text\", 1, \"form-control\"], [\"postal_CODE\", \"\"], [1, \"custom-input-file\"], [\"accept\", \".jpg, .jpeg\", \"name\", \"imageField\", \"size\", \"1\", \"type\", \"file\", 1, \"input-file\"], [\"file\", \"\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-picture-o\"], [1, \"text-muted\", \"text-center\", \"archivo\"], [1, \"text-center\"], [\"href\", \"#!\"], [\"type\", \"submit\", \"value\", \"Guardar\", 1, \"btn\", \"btn-info\", 3, \"click\"], [\"name\", \"CATEGORY\", 3, \"value\"]],\n    template: function AddcommercialComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r9 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"section\", 0)(1, \"h2\", 1);\n        i0.ɵɵtext(2, \"Pon tu anuncio gratis\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4)(6, \"h3\", 5);\n        i0.ɵɵtext(7, \"Busca la categor\\u00EDa donde ver\\u00E1n tu anuncio\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 6)(9, \"div\", 7)(10, \"label\");\n        i0.ɵɵtext(11, \"\\u00BFQu\\u00E9 anuncias?\");\n        i0.ɵɵelementStart(12, \"small\");\n        i0.ɵɵtext(13, \"Pulsando Ctrl puedes seleccionar varias catgor\\u00EDas\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(14, \"div\", 8)(15, \"div\", 6)(16, \"select\", 9, 10);\n        i0.ɵɵtemplate(18, AddcommercialComponent_option_18_Template, 2, 2, \"option\", 11);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelement(19, \"br\")(20, \"br\")(21, \"br\")(22, \"br\")(23, \"br\")(24, \"br\");\n        i0.ɵɵelementStart(25, \"h3\", 5);\n        i0.ɵɵtext(26, \"Detalles de tu anuncio\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"div\", 6)(28, \"label\", 7);\n        i0.ɵɵtext(29, \"T\\u00EDtulo del anuncio\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"div\", 8);\n        i0.ɵɵelement(31, \"input\", 12, 13);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(33, \"div\", 6)(34, \"label\", 7);\n        i0.ɵɵtext(35, \"Descripci\\u00F3n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"div\", 8);\n        i0.ɵɵelement(37, \"textarea\", 14, 15);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(39, \"div\", 6)(40, \"label\", 7);\n        i0.ɵɵtext(41, \"Precio\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"div\", 8);\n        i0.ɵɵelement(43, \"input\", 16, 17);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(45, \"div\", 6)(46, \"label\", 7);\n        i0.ɵɵtext(47, \"Ciudad\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"div\", 8);\n        i0.ɵɵelement(49, \"input\", 18, 19);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(51, \"div\", 6)(52, \"label\", 7);\n        i0.ɵɵtext(53, \"C\\u00F3digo postal\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(54, \"div\", 8);\n        i0.ɵɵelement(55, \"input\", 20, 21);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(57, \"br\")(58, \"br\")(59, \"br\")(60, \"br\")(61, \"br\")(62, \"br\")(63, \"br\")(64, \"br\")(65, \"br\");\n        i0.ɵɵelementStart(66, \"h3\", 5);\n        i0.ɵɵtext(67, \"Foto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(68, \"p\");\n        i0.ɵɵtext(69, \"\\u00A1los anuncios con fotos reciben 7 veces m\\u00E1s contactos!\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(70, \"div\", 6)(71, \"div\", 22);\n        i0.ɵɵelement(72, \"input\", 23, 24)(74, \"i\", 25);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(75, \"br\");\n        i0.ɵɵelementStart(76, \"p\", 26);\n        i0.ɵɵtext(77, \"Archivo...\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(78, \"p\", 27);\n        i0.ɵɵtext(79, \" Al publicar un anuncio, aceptas las \");\n        i0.ɵɵelementStart(80, \"a\", 28);\n        i0.ɵɵtext(81, \"condiciones de uso y la Pol\\u00EDtica de Privacidad\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(82, \"p\", 27)(83, \"input\", 29);\n        i0.ɵɵlistener(\"click\", function AddcommercialComponent_Template_input_click_83_listener($event) {\n          i0.ɵɵrestoreView(_r9);\n\n          const _r2 = i0.ɵɵreference(32);\n\n          const _r3 = i0.ɵɵreference(38);\n\n          const _r5 = i0.ɵɵreference(50);\n\n          const _r4 = i0.ɵɵreference(44);\n\n          const _r6 = i0.ɵɵreference(56);\n\n          const _r0 = i0.ɵɵreference(17);\n\n          return ctx.save($event, _r2.value, _r3.value, _r5.value, _r4.value, _r6.value, _r0.selectedOptions);\n        });\n        i0.ɵɵelementEnd()()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(18);\n        i0.ɵɵproperty(\"ngForOf\", ctx.categorys);\n      }\n    },\n    encapsulation: 2\n  });\n  return AddcommercialComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}